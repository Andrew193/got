<div class="lobby-container container-fluid">
  <main class="row mt-4 g-2">
    <aside class="col-sm-12 col-md-6 shadow-none">
      <ul class="nav flex-column list-group">
        @for (route of pageRoutes; track route.name + $index) {
          <li class="nav-item list-group-item">
            <a [routerLink]="route.url" class="list-group-item">
              <span>
                <app-image
                  [source]="'assets/resourses/imgs/nav_icons/' + route.src"
                  [alt]="route.name"></app-image>
                {{ route.name }}
              </span>
            </a>
          </li>
        }
      </ul>
    </aside>

    <div class="col-sm-12 col-md-6">
      <div class="stores h-100">
        <p class="col-12 text-center mt-2 mb-0 store-title">Shops and Rewards</p>
        <nav class="flex-row justify-content-between">
          <div class="row g-2 store-row ms-1 me-1">
            @for (activity of activities; track activity.name) {
              <ng-container
                [ngTemplateOutlet]="storeTemplate"
                [ngTemplateOutletContext]="activity" />
            }
          </div>
        </nav>
      </div>
    </div>
  </main>
</div>

<ng-template
  #storeTemplate
  let-name="name"
  let-src="src"
  let-click="click"
  let-notification="notification">
  <div class="col-3" (click)="click ? click() : true">
    <div class="w-100 h-100 pt-2 pb-2 position-relative card-tile">
      <app-image
        [source]="'./assets/resourses/imgs/' + src + '.png'"
        [alt]="name"
        imageClass="card-img-top image-75" />
      <span class="card-title">{{ name }}</span>
      <app-notification-marker [notificationType]="notification" />
    </div>
  </div>
</ng-template>

@if (isShowDailyReward) {
  <app-daily-reward [closePopup]="showDailyReward"></app-daily-reward>
}
